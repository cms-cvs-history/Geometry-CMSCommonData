process GeometryTest = {
# empty input service; empty source for now.
   source = EmptySource
   {
      untracked int32 maxEvents = 1
   }

   include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

# DT test
   es_module = DTGeometryESModule { }
   module pdt =  DTGeometryAnalyzer { }

# CSC test
# modelling flags (for completeness - internal defaults are already sane)
# BUT FOR NOW TURN OFF REAL WIRE GEOM, TO COMPARE WITH ORCA
   es_module = CSCGeometryESModule
   {
      bool useRadialStrips       = true
      bool useRealWireGeometry   = false
      bool useGangedStripsInME1a = true
      bool useOnlyWiresInME1a    = false
   }

   module pcsc =  CSCGeometryAnalyzer {}

# Tracker test
    es_module = TrackerGeometricDetESModule {}
    es_module = TrackerDigiGeometryESModule {}
    module ptrak =  TrackerDigiGeometryAnalyzer {}

    include "Geometry/CMSCommonData/data/cmsMagneticFieldXML.cfi"

    es_module = VolumeBasedMagneticFieldESProducer {
	  double findVolumeTolerance = 0.0
	  untracked bool cacheLastVolume = true
	  untracked bool timerOn = false
    }

    module mfa = testMagneticField { }

# only need ONE AsciiOutputModule 
    module print = AsciiOutputModule {}

    path p1 = { ptrak, pdt, pcsc, mfa } 
    endpath ep = { print }
}
