process GeometryTest = {
# empty input service; only need 1 event to check geometry!
   source = EmptySource
   {
      untracked int32 maxEvents = 2
   }
   es_source = XMLIdealGeometryESSource
   {
      FileInPath GeometryConfiguration="Geometry/CMSCommonData/data/configuration.xml"
      string rootNodeName = "cms:OCMS"
   }

# modelling flags (for completeness - internal defaults are already sane)
# BUT FOR NOW TURN OFF REAL WIRE GEOM, TO COMPARE WITH ORCA
   es_module = CSCGeometryESModule
   {
      untracked bool useRadialStrips       = true
      untracked bool useRealWireGeometry   = false
      untracked bool useGangedStripsInME1a = true
      untracked bool useOnlyWiresInME1a    = false
   }
   module print = AsciiOutputModule {}
   module prod =  CSCGeometryAnalyzer {}

    es_module = TrackerGeometricDetESModule {}
    es_module = TrackerDigiGeometryESModule {}
    module prodtrak =  TrackerDigiGeometryAnalyzer {}

    #Magnetic Field
    es_source magfield = XMLIdealGeometryESSource {
       FileInPath GeometryConfiguration ="Geometry/CMSCommonData/data/configuration.xml"
# was ... SimG4Core/Application/test/FieldConfiguration.xml"
       string rootNodeName="MagneticFieldVolumes:MAGF"
    }

    es_module = VolumeBasedMagneticFieldESProducer {
	  double findVolumeTolerance = 0.0
	  untracked bool cacheLastVolume = true
	  untracked bool timerOn = false
    }
    es_module = TrackerGeometricDetESModule {}
    module mfa = testMagneticField { }

    path p1 = { print, prodtrak, prod, mfa }

}
