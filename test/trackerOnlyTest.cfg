# orig: Michael Case
# desc: Attempt to test Geometry separately from "real" Sim and Reco.

process GeometryTest = {
# empty input service; empty source for now.
# using 2 events just to make sure things work right.
   source = EmptySource
   {
      untracked int32 maxEvents = 2
   }
# Geometry - overkill, used for test/completeness 
#            includes Sim, Digi & Reco files as far
#            as I can tell.
   include "Geometry/CMSCommonData/data/trackerOnlyGeometryXML.cfi"


# Tracker test
   include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   module ptrak =  TrackerDigiGeometryAnalyzer {}

# only need ONE AsciiOutputModule 
    module print = AsciiOutputModule {}

# MessageLogger
  service = MessageLogger {
    untracked vstring destinations = { "detailedInfo.txt"
                                     , "critical.txt"
                                     , "info.txt"
                                     , "warning.txt"
                                     }
    untracked PSet critical.txt     = { untracked string threshold = "ERROR"   }
    untracked PSet detailedInfo.txt = { untracked string threshold = "INFO"    } 
    untracked PSet cerr             = { untracked string threshold = "WARNING" }
  }
    path p1 = { ptrak } 
    endpath ep = { print }
}
